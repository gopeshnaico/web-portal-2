(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{5007:function(e,t,n){"use strict";var r=n(5893);t.Z=function(e){var t=e.labelText,n=e.className;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("h1",{className:n,children:t})})}},970:function(e,t,n){"use strict";var r=n(9499),s=n(4730),a=(n(7294),n(5893)),l=["placeholder","type","className","register","name","disabled","maxLength","onChange","onKeyDown","id"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.placeholder,n=e.type,r=e.className,i=e.register,c=e.name,u=e.disabled,d=e.maxLength,m=e.onChange,f=e.onKeyDown,h=e.id,v=(0,s.Z)(e,l);return(0,a.jsx)("input",o(o(o({type:n,className:r},i(c)),{},{placeholder:t,name:c},v),{},{disabled:null!==u&&void 0!==u&&u,maxLength:d,onChange:m,onKeyDown:f,id:h}))}},7705:function(e,t,n){"use strict";var r=n(5893);t.Z=function(e){var t=e.labelText,n=e.className;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{className:n,children:[t," "]})})}},2204:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(5893),s=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"w-6/12 bg-gray-100 text-center hidden lg:block relative bg-cover bg-center bg",children:(0,r.jsxs)("div",{className:"text-white absolute z-10 bottom-2 left-0 p-6 text-left ",children:[(0,r.jsx)("h1",{className:"font-semibold text-3xl",children:"The Wow Experience"}),(0,r.jsx)("p",{children:"Welcome to the Wow experience of B2B sales. Curated and verified retailers and manufacturers can purchase and sell new latest trendy fashion products through FAWOW. Leave the worries of shipping and returns to us"})]})})})}},6246:function(e,t,n){"use strict";var r=n(8687),s=n(6521),a=n(8855),l=n(4155).env.NEXT_PUBLIC_API_URL||"";t.Z=function(e){var t=(0,s.C)(a.sR),n={authorization:"Bearer ".concat(t)};return new r.GraphQLClient(l,{credentials:"include",headers:n})}},4681:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(29),s=n(7794),a=n.n(s),l=n(5496),i=n(3443),o=n(1163),c=n(7294),u=n(7536),d=n(4231),m=n(7110),f=n(6246),h=n(6521),v=n(8855),x=n(2640),g=n(391),b=n(5007),p=n(970),y=n(7705),j=n(5871),w=n(2204),N=n(7838),O=n(5893),P=function(e){var t,n=e.register,r=e.getValues,s=e.handleVerifyOTP,a=e.handleSubmit,l=e.handleResend,i=e.setResetCount,o=e.setFocus,u=e.handleBack,d=e.errors,m=e.resetCount,f=e.attempt,v=(0,h.C)((function(e){return e.authSession})),P=(0,c.useState)(30),Z=P[0],k=P[1],C=((0,N.$G)().t,["e","E","+","-","."]),T=(0,c.useState)(!0),S=T[0],_=T[1],F=r&&r();(0,c.useEffect)((function(){var e=Z>0&&setInterval((function(){return k(Z-1)}),1e3);return function(){i&&i(!1),clearInterval(e)}}),[Z,!0===m]),(0,c.useEffect)((function(){""===(null===F||void 0===F?void 0:F.one)&&""===(null===F||void 0===F?void 0:F.two)&&""===(null===F||void 0===F?void 0:F.three)&&""===(null===F||void 0===F?void 0:F.four)?_(!0):_(!1)}),[F]),(0,c.useEffect)((function(){o&&o("one")}),[o]);var D;return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:"flex",children:[(0,O.jsx)(w.j,{}),(0,O.jsxs)("div",{className:"w-full md:w-6/12 bg-white min-h-screen relative mx-auto",children:[(0,O.jsxs)("div",{className:"px-6 w-full lg:w-10/12 mx-auto min-h-screen pt-10 pb-12",children:[(0,O.jsxs)("form",{onSubmit:a(s),children:[(0,O.jsx)("div",{className:"text-center",children:(0,O.jsx)(j.Z,{src:x.Z,className:"inline-block logo",alt:"Logo",width:200,height:75})}),(0,O.jsx)("div",{className:"clear-both"}),(0,O.jsx)("div",{children:(0,O.jsx)(b.Z,{className:"mt-8 mb-2 text-2xl",labelText:"Verify your number"})}),(0,O.jsxs)("div",{className:"labelFlex flex items-center","data-testid":"label",children:[(0,O.jsx)(y.Z,{className:"labelPadding text-gray-700",labelText:"4 digit code sent to"}),(0,O.jsx)("span",{className:"text-blue-400 font-medium text-xl w-full block md:w-auto inline-block ml-1",children:null===v||void 0===v?void 0:v.phone})]}),(0,O.jsx)("div",{className:"clear-both"}),(0,O.jsxs)("div",{className:"flex","data-testid":"otpField",children:[(0,O.jsx)(p.Z,{id:"one",type:"number",className:"w-full py-2 mr-2 border-0 border-b-2 focus-visible:outline-0 md:mr-6 text-center text-xl font-medium",name:"one",maxLength:1,register:n,onChange:function(e){e.target.value.length>1&&(e.target.value=e.target.value.charAt(0)),""!==e.target.value&&o("two")},onKeyDown:function(e){return C.includes(e.key)&&e.preventDefault()}}),(0,O.jsx)(p.Z,{id:"two",type:"number",className:"w-full py-2 mr-2 border-0 border-b-2 focus-visible:outline-0 md:mr-6 text-center text-xl font-medium",name:"two",maxLength:1,register:n,onChange:function(e){e.target.value.length>1&&(e.target.value=e.target.value.charAt(0)),""!==e.target.value?o("three"):o("one")},onKeyDown:function(e){C.includes(e.key)&&e.preventDefault()}}),(0,O.jsx)(p.Z,{id:"three",type:"number",className:"w-full py-2 mr-2 border-0 border-b-2 focus-visible:outline-0 md:mr-6 text-center text-xl font-medium",name:"three",maxLength:1,register:n,onChange:function(e){e.target.value.length>1&&(e.target.value=e.target.value.charAt(0)),""!==e.target.value?o("four"):o("two")},onKeyDown:function(e){return C.includes(e.key)&&e.preventDefault()}}),(0,O.jsx)(p.Z,{id:"four",type:"number",className:"w-full py-2 mr-2 border-0 border-b-2 focus-visible:outline-0 md:mr-6 text-center text-xl font-medium",name:"four",maxLength:1,register:n,onChange:function(e){""===e.target.value&&o("three"),e.target.value.length>1&&(e.target.value=e.target.value.charAt(0))},onKeyDown:function(e){return C.includes(e.key)&&e.preventDefault()}})]}),(0,O.jsx)("div",{className:"clear-both"}),(0,O.jsx)("div",{className:"errorMessage mt-2  text-red-600",children:(0,O.jsx)("p",{children:null===(t=d.one)||void 0===t?void 0:t.message})}),(0,O.jsxs)("div",{className:"flex mt-8 items-center",children:[(0,O.jsx)("div",{className:"mr-auto",children:0===Z?(0,O.jsx)(g.Z,{type:"button",className:"border-cyan-400 border-2 font-medium text-sm text-cyan-400 inline-block h-9 leading-8 rounded-3xl px-5 w-auto",onClick:function(){l(),k(30)},label:"Resend Code"}):(0,O.jsx)(g.Z,{type:"button",className:"border-gray-400 border-2 font-medium text-sm text-gray-400 inline-block h-9 leading-8 rounded-3xl px-5 w-auto",onClick:function(){k(0)},label:"Resend Code",isDisabled:S})}),0===Z&&void 0!==f?(0,O.jsx)("div",{className:"ml-auto flex items-center text-red-600",children:0!=f?"".concat(f," Attempts Left"):"No Attempts Left"}):(0,O.jsxs)("div",{className:"ml-auto flex items-center",children:["Resend OTP in"," ",(0,O.jsx)("img",{src:"/images/time.svg",className:"mr-2 ml-4 w-5",alt:"time"}),(0,O.jsx)("span",{children:"00:".concat((D=Z,D<10?"0"+D.toString():D.toString()))})]})]}),(0,O.jsxs)("div",{className:"w-full mt-5 mb-2 flex","data-testid":"button",children:[(0,O.jsx)(g.Z,{className:"btt-secondary bg-gray-200 rounded-3xl mr-2 hover:bg-gray-300 flex-1 w-48",type:"button",label:"Back",onClick:u}),(0,O.jsx)(g.Z,{className:"btt-primary bg-blue-400 rounded-3xl hover:bg-blue-500 flex-1 w-48 ml-2 ".concat(!0===S?"opacity-25":""),label:"Submit",type:"submit",onClick:function(){},isDisabled:S})]})]}),(0,O.jsx)("div",{className:"clear-both"})]}),(0,O.jsx)("div",{className:"clear-both"}),(0,O.jsxs)("div",{className:"w-full absolute bottom-4 left-0 text-center text-gray-400",children:["Having trouble logging in?"," ",(0,O.jsx)("a",{className:"underline text-blue-400 font-medium",children:"Get Help"})]})]})]})})},Z=n(6494),k=function(){var e=(0,o.useRouter)(),t=(0,h.T)(),n=(0,h.C)(v.bD),s=(0,c.useState)(!1),x=s[0],g=s[1],b=(0,c.useState)(!1),p=b[0],y=b[1],j=(0,c.useState)("success"),w=j[0],N=j[1],k=(0,c.useState)(""),C=k[0],T=k[1],S=(0,c.useState)(!0),_=S[0],F=S[1],D=(0,c.useState)(),L=D[0],A=D[1],E=d.Ry().shape({one:d.Z_().required("Please Fill All Fields"),two:d.Z_().required("Please Fill All Fields"),three:d.Z_().required("Please Fill All Fields"),four:d.Z_().required("Please Fill All Fields")}),R=(0,u.cI)({resolver:(0,l.X)(E)}),B=R.register,K=R.handleSubmit,V=R.setFocus,I=R.formState.errors,q=R.reset,W=R.getValues,X=(0,m.vp)((0,f.Z)()),G=(0,m.MB)((0,f.Z)()),z=function(){var s=(0,r.Z)(a().mark((function r(s){var l,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l="".concat(s.one).concat(s.two).concat(s.three).concat(s.four),i={data:{phone:n,otp:l}},r.next=4,X.mutateAsync(i).then((function(n){if(!0===n.verifyOTP.isFirstLogin)t((0,v.JS)(null===n||void 0===n?void 0:n.verifyOTP.token)),e.push("/user-enroll");else{var r,s,a;if(!0===n.verifyOTP.isVerified)t((0,v.JS)(null===n||void 0===n?void 0:n.verifyOTP.token)),t((0,v.DZ)(null===n||void 0===n||null===(r=n.verifyOTP.user)||void 0===r||null===(s=r.Customers[0])||void 0===s?void 0:s.customerId)),e.push("/dashboard");else A(null===n||void 0===n||null===(a=n.verifyOTP)||void 0===a?void 0:a.loginAttemptsLeft),g(!1),y(!0),N("error"),T(null===n||void 0===n?void 0:n.verifyOTP.message),q();0==n.verifyOTP.loginAttemptsLeft&&T(null===n||void 0===n?void 0:n.verifyOTP.message)}})).catch((function(e){y(!1),g(!0),N("error"),T(e.response)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return s.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:{phone:n}},e.next=3,G.mutateAsync(t).then((function(e){T(null===e||void 0===e?void 0:e.sendOTP.message),F(!0),q()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,O.jsxs)(O.Fragment,{children:[x&&(0,O.jsx)(i.q,{error:C,setErrorOpen:g}),p&&(0,O.jsx)(Z._,{open:p,setOpen:y,message:C,type:w}),(0,O.jsx)(P,{register:B,getValues:W,handleVerifyOTP:z,handleResend:H,handleSubmit:K,errors:I,reset:q,resetCount:_,setResetCount:F,attempt:L,setFocus:V,handleBack:function(){e.push("/signup")}})]})},C=function(){return(0,O.jsx)(k,{})}},6568:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/verify-otp",function(){return n(4681)}])},2640:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.7b0bc59d.svg",height:125,width:332}}},function(e){e.O(0,[982,809,75,774,888,179],(function(){return t=6568,e(e.s=t);var t}));var t=e.O();_N_E=t}]);