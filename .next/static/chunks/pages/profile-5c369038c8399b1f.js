(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{4534:function(e,r,t){"use strict";t.d(r,{r:function(){return s}});var a=t(5893),s=function(e){var r=e.message;return(0,a.jsx)("div",{className:"errorMessage details warning-color",children:(0,a.jsx)("p",{"data-testid":"passwordErrorMessage",children:r})})}},6246:function(e,r,t){"use strict";var a=t(8687),s=t(6521),l=t(8855),i=t(4155).env.NEXT_PUBLIC_API_URL||"";r.Z=function(e){var r=(0,s.C)(l.sR),t={authorization:"Bearer ".concat(r)};return new a.GraphQLClient(i,{credentials:"include",headers:t})}},409:function(e,r,t){"use strict";t.d(r,{K:function(){return a},v:function(){return s}});var a={name:"Name is required",nameMinimum:"Minimum 5 characters",nameMaximum:"Maximum 250 characters",yearMaximum:"Must contain 4 characters",mobileNumber:"Mobile Number is required",email:"Email is required",establishmentYear:"Establishment Year is required",businessType:"BusinessType is required",gst:"GST is required",gstMinimum:"Minimum 14 Characters",gstMaximum:"Maximum 15 Characters",description:"Description is required",onlyNumbers:"Must be include only digits",alphaNumerics:"Must only include alphanumerics",panNo:"Must be valid pan format",alphabets:"Must only include alphabets",fullName:"Full Name is required",companyPan:"Company Pan is required",companyEmail:"Company Email is required",companyName:"Company name is required",pincodeValidation:"Pincode is invalid, only contains numbers with 6 digits",mobileNumberValidation:"Phone Number is invalid, must contain only numbers with 10 digits",address:"Address is required",state:"State is required",district:"District is required",city:"City is required",pincode:"Pincode is required",emailValidation:"Email Id is invalid"},s={email:{required:"Email Id is required",maxLength:"Email Id should not exceed 255 characters",valid:"Must be a valid email"},password:{required:"Password is required",maxLength:"Password should not exceed 16 characters",minLength:"Password must be at least 8 characters",valid:"Must be a valid email"},newPassword:{required:"Password is required",maxLength:"Password should not exceed 16 characters",match:"Password Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"},confirmPassword:{required:"Email Id is required",confirmMatchMessage:"Your passwords do not match."}}},2672:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return E}});var a=t(29),s=t(7794),l=t.n(s),i=t(7294),n=t(7536),o=t(5496),d=t(4231),u=t(7110),c=t(6246),m=t(409),b=t(9499),p=t(1163),x=t.n(p),h=t(4534),f=t(391),v=t(7838),g=t(5893);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,b.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var j=function(e){var r,t,a,s,l,i,n,o,d=e.register,u=e.handleProfile,c=e.errors,m=(0,v.$G)().t;return(0,g.jsxs)("div",{"data-testid":"renderPage",className:"w-full px-0 py-16 lg:w-4/5 lg:px-16",children:[(0,g.jsx)("h1",{className:"font-semibold text-xl pb-3",children:m("My Account")}),(0,g.jsx)("div",{className:"w-full mb-8 md:w-2/4 rounded-lg shadow-lg p-6 bg-slate-50 border-2 border-slate-200",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"overflow-hidden rounded-full w-20 mr-3",children:(0,g.jsx)("img",{src:"images/demo-user.jpg",alt:"user"})}),(0,g.jsx)("a",{className:"p-2 absolute bottom-0 right-2 rounded-full shadow-lg primary-bg w-8",children:(0,g.jsx)("img",{src:"images/edit-icon.svg",alt:"edit"})})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"font-semibold text-lg",children:m("Seller Name")}),(0,g.jsx)("div",{className:"font-medium text-gray-400 text-sm"}),(0,g.jsxs)("div",{className:"text-green-500",children:[(0,g.jsx)("img",{src:"images/green-check.svg",className:"float-left mr-2 mt-1 w-5",alt:"Verified"}),m("Verified")]})]})]})}),(0,g.jsx)("div",{className:"clear-both"}),(0,g.jsx)("form",{onSubmit:u,children:(0,g.jsxs)("div",{className:"row-outer",children:[(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("name")),{},{type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.name?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)(h.r,{message:null===c||void 0===c||null===(r=c.name)||void 0===r?void 0:r.message}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("Name")})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("phone")),{},{disabled:!0,type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                 ".concat(c.phone?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(t=c.phone)||void 0===t?void 0:t.message})}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("Mobile Number")})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("email")),{},{type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.email?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(a=c.email)||void 0===a?void 0:a.message})}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("Email Address")})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("established_year")),{},{type:"text",id:"floating_standard",className:"pl-5 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.established_year?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("label",{className:"pl-5 absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("Establishment Year")}),(0,g.jsx)("a",{className:"absolute bottom-3 left-0",children:(0,g.jsx)("img",{src:"images/calendar-icon.svg",className:"w-4",alt:"calendar"})}),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(s=c.established_year)||void 0===s?void 0:s.message})})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsxs)("select",w(w({},d("businessType")),{},{className:'select select-bordered w-full border-0 rounded-none h-10 pl-0 min-h-0\tmt-0.5 border-b-2 border-gray-300"\n                '.concat(c.businessType?"is-invalid border-b-red-400":""),placeholder:" ",children:[(0,g.jsx)("option",{value:"select",disabled:!0,children:m("Business Type")}),[{value:"buyer",label:"Retailer"},{value:"seller",label:"Manufacturer"}].map((function(e){return(0,g.jsx)("option",{value:e.value,children:e.label},e.value)}))]})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(l=c.businessType)||void 0===l?void 0:l.message})})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("pan")),{},{type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.pan?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(i=c.pan)||void 0===i?void 0:i.message})}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("PAN")})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left md:w-2/4",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("input",w(w({},d("gst")),{},{type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.gst?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(n=c.gst)||void 0===n?void 0:n.message})}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("GST")})]})}),(0,g.jsx)("div",{className:"w-full mb-8 px-3 float-left",children:(0,g.jsxs)("div",{className:"relative z-0 ",children:[(0,g.jsx)("textarea",w(w({},d("description")),{},{id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer\n                ".concat(c.description?"is-invalid border-b-red-400":""),placeholder:" "})),(0,g.jsx)("div",{className:"errorMessageAddAddress details warning-color text-sm",children:(0,g.jsx)("p",{"data-testid":"emailErrorMessage text-sm",children:null===(o=c.description)||void 0===o?void 0:o.message})}),(0,g.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:m("Description")})]})}),(0,g.jsx)("div",{className:"clear-both"}),(0,g.jsxs)("div",{className:"w-full mb-8 pt-4 px-3 text-right",children:[(0,g.jsx)(f.Z,{type:"button",className:"height-56 line-height-56 rounded-lg inline-block bg-blue-100 text-black border-slate-300 w-full md:w-100 md:h-full md:w-48 sm:w-48 border-solid border-2 border-color: inherit; hover:bg-white",label:m("Back"),onClick:function(){return x().push("dashboard")}}),(0,g.jsx)(f.Z,{type:"submit",className:"btt ml-0 mt-5 height-56 line-height-56 rounded-lg inline-block bg-blue-500 shadow-lg shadow-blue-500/50 w-full md:w-100  md:h-full md:w-48 sm:w-48 sm:ml-5 sm:mt-0 hover:bg-cyan-500",label:m("Save Changes")})]}),(0,g.jsx)("div",{className:"clear-both"})]})})]})},N=t(6521),k=t(8855),M=t(6494),_=t(3443),T=function(){var e,r,t,s,b,p,x,h,f,v,y,w,T,E,q,V,A,P,C,O,I,Z,z=(0,N.C)(k.ZR),S=(0,u.o6)((0,c.Z)()),L=(0,i.useState)(!1),D=L[0],K=L[1],R=(0,i.useState)(!1),B=R[0],G=R[1],X=(0,i.useState)("success"),Y=X[0],U=X[1],$=(0,i.useState)(""),F=$[0],Q=$[1],W=d.Ry().shape({name:d.Z_().required("Seller Name is required").min(5,"minimum 5 characters").max(250,"maximum 250 characters"),phone:d.Z_(),email:d.Z_().required(m.v.email.required).email(m.v.email.valid).max(250,m.v.email.maxLength),established_year:d.Z_().nullable().notRequired().when("established_year",{is:function(e){return null===e||void 0===e?void 0:e.length},then:function(e){return e.matches(/^[0-9]+$/,m.K.onlyNumbers).max(4,m.K.yearMaximum).min(3,m.K.yearMaximum)}}),businessType:d.Z_().required("Business Type is required"),pan:d.Z_().nullable().notRequired().when("pan",{is:function(e){return null===e||void 0===e?void 0:e.length},then:function(e){return e.matches(/[A-Z]{5}[0-9]{4}[A-Z]{1}/,m.K.panNo)}}),gst:d.Z_().nullable().notRequired().when("gst",{is:function(e){return null===e||void 0===e?void 0:e.length},then:function(e){return e.matches(/^[a-zA-Z0-9]+$/,m.K.alphaNumerics).min(14,m.K.gstMinimum).max(15,m.K.gstMaximum)}}),description:d.Z_()},[["established_year","established_year"],["pan","pan"],["gst","gst"]]),H=(0,u.W9)((0,c.Z)(),{where:{id:z}}).data,J=null===H||void 0===H||null===(e=H.customer)||void 0===e||null===(r=e.CustomerEnrollmentValue)||void 0===r?void 0:r.find((function(e){return"email"===e.Attribute.name})),ee=null===H||void 0===H||null===(t=H.customer)||void 0===t||null===(s=t.CustomerEnrollmentValue)||void 0===s?void 0:s.find((function(e){return"phone"===e.Attribute.name})),re=null===H||void 0===H||null===(b=H.customer)||void 0===b||null===(p=b.CustomerEnrollmentValue)||void 0===p?void 0:p.find((function(e){return"pan"===e.Attribute.name})),te=null===H||void 0===H||null===(x=H.customer)||void 0===x||null===(h=x.CustomerEnrollmentValue)||void 0===h?void 0:h.find((function(e){return"gst"===e.Attribute.name})),ae=null===H||void 0===H||null===(f=H.customer)||void 0===f||null===(v=f.CustomerEnrollmentValue)||void 0===v?void 0:v.find((function(e){return"established_year"===e.Attribute.name})),se=null===H||void 0===H||null===(y=H.customer)||void 0===y||null===(w=y.CustomerEnrollmentValue)||void 0===w?void 0:w.find((function(e){return"description"===e.Attribute.name})),le={defaultValues:{name:null!==(T=null===H||void 0===H||null===(E=H.customer)||void 0===E?void 0:E.name)&&void 0!==T?T:"",phone:null!==(q=null===ee||void 0===ee?void 0:ee.attributeValueText)&&void 0!==q?q:"",email:null===J||void 0===J?void 0:J.attributeValueText,established_year:null!==(V=null===ae||void 0===ae?void 0:ae.attributeValueText)&&void 0!==V?V:"",businessType:null!==(A=null===H||void 0===H||null===(P=H.customer)||void 0===P||null===(C=P.EnrollmentType)||void 0===C?void 0:C.name)&&void 0!==A?A:"",pan:null!==(O=null===re||void 0===re?void 0:re.attributeValueText)&&void 0!==O?O:"",gst:null!==(I=null===te||void 0===te?void 0:te.attributeValueText)&&void 0!==I?I:"",description:null!==(Z=null===se||void 0===se?void 0:se.attributeValueText)&&void 0!==Z?Z:""},resolver:(0,o.X)(W)},ie=(0,n.cI)(le),ne=ie.register,oe=ie.handleSubmit,de=ie.reset,ue=ie.formState.errors;(0,i.useEffect)((function(){var e,r,t,a,s,l,i,n,o;de({name:null!==(e=null===H||void 0===H||null===(r=H.customer)||void 0===r?void 0:r.name)&&void 0!==e?e:"",phone:null!==(t=null===ee||void 0===ee?void 0:ee.attributeValueText)&&void 0!==t?t:"",email:null===J||void 0===J?void 0:J.attributeValueText,established_year:null!==(a=null===ae||void 0===ae?void 0:ae.attributeValueText)&&void 0!==a?a:"",businessType:null===H||void 0===H||null===(s=H.customer)||void 0===s||null===(l=s.EnrollmentType)||void 0===l?void 0:l.name,pan:null!==(i=null===re||void 0===re?void 0:re.attributeValueText)&&void 0!==i?i:"",gst:null!==(n=null===te||void 0===te?void 0:te.attributeValueText)&&void 0!==n?n:"",description:null!==(o=null===se||void 0===se?void 0:se.attributeValueText)&&void 0!==o?o:""})}),[H]);var ce=oe(function(){var e=(0,a.Z)(l().mark((function e(r){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:{customerId:z,customerName:r.name,buisnessType:r.businessType,attributes:[{attributeId:J.attributeId,attributeValueText:r.email},{attributeId:ee.attributeId,attributeValueText:r.phone},{attributeId:re.attributeId,attributeValueText:r.pan},{attributeId:te.attributeId,attributeValueText:r.gst},{attributeId:ae.attributeId,attributeValueText:r.established_year},{attributeId:se.attributeId,attributeValueText:r.description}]}},e.next=3,S.mutateAsync(t).then((function(e){e.updateCustomer.id&&(Q("Details updated success"),G(!0),U("success"))})).catch((function(e){K(!0),Q(e.response)}));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());return(0,g.jsxs)(g.Fragment,{children:[D&&(0,g.jsx)(_.q,{error:F,setErrorOpen:G}),B&&(0,g.jsx)(M._,{open:B,setOpen:G,message:F,type:Y}),(0,g.jsx)(j,{register:ne,handleProfile:ce,handleSubmit:oe,errors:ue,data:H})]})},E=function(){return(0,g.jsx)(T,{})}},303:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(2672)}])}},function(e){e.O(0,[982,809,75,774,888,179],(function(){return r=303,e(e.s=r);var r}));var r=e.O();_N_E=r}]);