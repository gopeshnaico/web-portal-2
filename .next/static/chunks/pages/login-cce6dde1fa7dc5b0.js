(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6946:function(e,r,a){"use strict";a(7294);var s=a(5893);r.Z=function(e){var r=e.label;return(0,s.jsx)("h1",{className:"mt-5 mb-2 text-2xl",children:r})}},970:function(e,r,a){"use strict";var s=a(9499),i=a(4730),t=(a(7294),a(5893)),n=["placeholder","type","className","register","name","disabled","maxLength","onChange","onKeyDown","id"];function o(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,s)}return a}function l(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?o(Object(a),!0).forEach((function(r){(0,s.Z)(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.Z=function(e){var r=e.placeholder,a=e.type,s=e.className,o=e.register,c=e.name,d=e.disabled,u=e.maxLength,m=e.onChange,b=e.onKeyDown,h=e.id,p=(0,i.Z)(e,n);return(0,t.jsx)("input",l(l(l({type:a,className:s},o(c)),{},{placeholder:r,name:c},p),{},{disabled:null!==d&&void 0!==d&&d,maxLength:u,onChange:m,onKeyDown:b,id:h}))}},8051:function(e,r,a){"use strict";a(7294);var s=a(5893);r.Z=function(e){var r=e.label;return(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"mb-5",children:r})})}},6246:function(e,r,a){"use strict";var s=a(8687),i=a(6521),t=a(8855),n=a(4155).env.NEXT_PUBLIC_API_URL||"";r.Z=function(e){var r=(0,i.C)(t.sR),a={authorization:"Bearer ".concat(r)};return new s.GraphQLClient(n,{credentials:"include",headers:a})}},409:function(e,r,a){"use strict";a.d(r,{K:function(){return s},v:function(){return i}});var s={name:"Name is required",nameMinimum:"Minimum 5 characters",nameMaximum:"Maximum 250 characters",yearMaximum:"Must contain 4 characters",mobileNumber:"Mobile Number is required",email:"Email is required",establishmentYear:"Establishment Year is required",businessType:"BusinessType is required",gst:"GST is required",gstMinimum:"Minimum 14 Characters",gstMaximum:"Maximum 15 Characters",description:"Description is required",onlyNumbers:"Must be include only digits",alphaNumerics:"Must only include alphanumerics",panNo:"Must be valid pan format",alphabets:"Must only include alphabets",fullName:"Full Name is required",companyPan:"Company Pan is required",companyEmail:"Company Email is required",companyName:"Company name is required",pincodeValidation:"Pincode is invalid, only contains numbers with 6 digits",mobileNumberValidation:"Phone Number is invalid, must contain only numbers with 10 digits",address:"Address is required",state:"State is required",district:"District is required",city:"City is required",pincode:"Pincode is required",emailValidation:"Email Id is invalid"},i={email:{required:"Email Id is required",maxLength:"Email Id should not exceed 255 characters",valid:"Must be a valid email"},password:{required:"Password is required",maxLength:"Password should not exceed 16 characters",minLength:"Password must be at least 8 characters",valid:"Must be a valid email"},newPassword:{required:"Password is required",maxLength:"Password should not exceed 16 characters",match:"Password Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"},confirmPassword:{required:"Email Id is required",confirmMatchMessage:"Your passwords do not match."}}},9219:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return I}});var s=a(29),i=a(7794),t=a.n(i),n=a(7294),o=a(1163),l=a.n(o),c=a(7536),d=a(5496),u=a(4231),m=a(7110),b=a(4730),h=a(5893),p=["size","label","onClick"],g=function(e){e.size;var r=e.label,a=e.onClick;(0,b.Z)(e,p);return(0,h.jsx)("a",{className:"lg:float-right w-full md:w-auto md:float-right float-left width mt-2 text-blue-500 hover:text-black float-sm-left",onClick:a,children:r})},f=a(9499),v=["size","backgroundColor","label","onChange","isChecked"];function w(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,s)}return a}function x(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?w(Object(a),!0).forEach((function(r){(0,f.Z)(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}var j=function(e){e.size,e.backgroundColor;var r=e.label,a=e.onChange,s=e.isChecked,i=(0,b.Z)(e,v);return(0,h.jsxs)("label",{className:"text-slate-500",children:[(0,h.jsx)("input",x(x({type:"checkbox",className:"default:ring-2 mr-2 mt-3"},i),{},{onChange:a,checked:s})),r]})},y=a(6946),N=a(5871),O=a(8051),P=a(2640),C=a(391),q=a(970),M=a(7838),k=function(e){var r,a,s=e.register,i=e.handleLogin,t=e.handleSubmit,n=e.setRememberMe,o=e.rememberMe,c=e.errors,d=(0,M.$G)().t;return(0,h.jsxs)("div",{"data-testid":"outerDiv",children:[(0,h.jsx)("div",{className:"login-outer background-color",children:(0,h.jsx)("form",{onSubmit:t(i),children:(0,h.jsx)("section",{className:"h-full min-h-screen login_bg p-5 md:p-10 background-image bg-cover bg-center ...",children:(0,h.jsxs)("div",{className:"bg-white mb-10 p-5 ml-0 shadow-lg rounded-lg w-full md:ml-auto lg:w-2/5 md:w-3/5 sm:p-8",children:[(0,h.jsx)("div",{className:"inline-block logo"}),(0,h.jsx)(N.Z,{height:75,width:200,src:P.Z,className:"inline-block logo",alt:"Logo"}),(0,h.jsx)("div",{className:"clear-both"}),(0,h.jsx)(y.Z,{label:d("Sign In")}),(0,h.jsx)(O.Z,{label:d("Please enter your email and password")}),(0,h.jsx)("div",{className:"clear-both"}),(0,h.jsx)(q.Z,{register:s,name:"email",type:"text",className:"w-full py-2 mb-4 border-0 border-b-2 focus-visible:outline-0 ".concat(c.email?"is-invalid border-b-red-400":""),placeholder:d("Email")}),(0,h.jsx)("div",{className:"errorMessage details warning-color",children:(0,h.jsx)("p",{"data-testid":"emailErrorMessage",children:null===(r=c.email)||void 0===r?void 0:r.message})}),(0,h.jsx)(q.Z,{register:s,name:"password",type:"password",className:"w-full py-2 mb-4 border-0 border-b-2 focus-visible:outline-0 ".concat(c.password?"is-invalid border-b-red-400":""),placeholder:d("Password")}),(0,h.jsx)("div",{className:"errorMessage details warning-color",children:(0,h.jsx)("p",{"data-testid":"passwordErrorMessage",children:null===(a=c.password)||void 0===a?void 0:a.message})}),(0,h.jsx)("div",{className:"clear-both"}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("div",{className:"float-left",children:(0,h.jsx)("label",{className:"text-slate-500",children:(0,h.jsx)(j,{label:d("Remember me"),onChange:function(){return n(!o)},isChecked:o})})}),(0,h.jsx)(g,{label:d("Forgot Password"),onClick:function(){return l().push("/forgot-password")}})]}),(0,h.jsx)("div",{className:"clear-both"}),(0,h.jsxs)("div",{className:"w-full mt-10 mb-2 flex-auto flex gap-4",children:[(0,h.jsx)(C.Z,{type:"button",className:"btt-secondary btn-back mr-2",label:d("Back"),onClick:function(){return l().push("/signup/verify-otp")}}),(0,h.jsx)(C.Z,{type:"submit",className:"btt-primary btn-sign mr-2",label:d("Sign In")})]})]})})})}),(0,h.jsx)("main",{})]})},S=a(3443),E=a(409),Z=a(6521),L=a(8855),_=a(6246),D=function(){var e=(0,n.useState)(!1),r=e[0],a=e[1],i=(0,o.useRouter)(),l=(0,n.useState)(!1),b=l[0],p=l[1],g=(0,n.useState)(""),f=g[0],v=g[1],w=(0,Z.T)(),x=((0,Z.C)(L.sR),u.Ry().shape({email:u.Z_().required(E.v.email.required).email(E.v.email.valid).max(255,E.v.email.maxLength),password:u.Z_().min(8,E.v.password.minLength).max(16,E.v.password.maxLength).required(E.v.password.required)})),j=(0,c.cI)({resolver:(0,d.X)(x)}),y=j.register,N=j.handleSubmit,O=j.formState.errors,P=j.setValue;(0,n.useEffect)((function(){var e=localStorage.getItem("userDetails");if(e){var r=JSON.parse(null===e||void 0===e?void 0:e.toString());r?(P("email",r.email),P("password",r.password),a(!0)):a(!1)}}),[P]);var C=(0,m.yY)((0,_.Z)()),q=function(){var e=(0,s.Z)(t().mark((function e(a){var s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r?localStorage.setItem("userDetails",JSON.stringify(a)):localStorage.removeItem("userDetails"),s={data:{email:a.email,password:a.password}},e.next=4,C.mutateAsync(s).then((function(e){null!==e&&void 0!==e&&e.passwordLogin.isVerified?(p(!1),w((0,L.JS)(null===e||void 0===e?void 0:e.passwordLogin.token)),i.push("/dashboard")):(p(!0),v(null===e||void 0===e?void 0:e.passwordLogin))})).catch((function(e){p(!0),v(e.response)}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[b&&(0,h.jsx)(S.q,{error:f,setErrorOpen:p}),(0,h.jsx)(k,{register:y,handleLogin:q,handleSubmit:N,setRememberMe:a,rememberMe:r,errors:O})]})},I=function(){return(0,h.jsx)(D,{})}},7106:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(9219)}])},2640:function(e,r){"use strict";r.Z={src:"/_next/static/media/logo.7b0bc59d.svg",height:125,width:332}}},function(e){e.O(0,[982,809,75,774,888,179],(function(){return r=7106,e(e.s=r);var r}));var r=e.O();_N_E=r}]);