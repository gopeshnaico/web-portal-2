(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{9767:function(e,r,t){"use strict";var a=t(8687),s=t(6521),l=t(4155).env.NEXT_PUBLIC_API_URL||"";r.Z=function(e){var r=(0,s.C)((function(e){return e.authSession})),t={authorization:"Bearer ".concat(r.authToken)};return new a.GraphQLClient(l,{credentials:"include",headers:t})}},4534:function(e,r,t){"use strict";t.d(r,{r:function(){return s}});var a=t(5893),s=function(e){var r=e.message;return(0,a.jsx)("div",{className:"errorMessage details warning-color",children:(0,a.jsx)("p",{"data-testid":"passwordErrorMessage",children:r})})}},6246:function(e,r,t){"use strict";var a=t(8687),s=t(6521),l=t(8855),n=t(4155).env.NEXT_PUBLIC_API_URL||"";r.Z=function(e){var r=(0,s.C)(l.sR),t={authorization:"Bearer ".concat(r)};return new a.GraphQLClient(n,{credentials:"include",headers:t})}},409:function(e,r,t){"use strict";t.d(r,{K:function(){return a},v:function(){return s}});var a={name:"Name is required",nameMinimum:"Minimum 5 characters",nameMaximum:"Maximum 250 characters",yearMaximum:"Must contain 4 characters",mobileNumber:"Mobile Number is required",email:"Email is required",establishmentYear:"Establishment Year is required",businessType:"BusinessType is required",gst:"GST is required",gstMinimum:"Minimum 14 Characters",gstMaximum:"Maximum 15 Characters",description:"Description is required",onlyNumbers:"Must be include only digits",alphaNumerics:"Must only include alphanumerics",panNo:"Must be valid pan format",alphabets:"Must only include alphabets",fullName:"Full Name is required",companyPan:"Company Pan is required",companyEmail:"Company Email is required",companyName:"Company name is required",pincodeValidation:"Pincode is invalid, only contains numbers with 6 digits",mobileNumberValidation:"Phone Number is invalid, must contain only numbers with 10 digits",address:"Address is required",state:"State is required",district:"District is required",city:"City is required",pincode:"Pincode is required",emailValidation:"Email Id is invalid"},s={email:{required:"Email Id is required",maxLength:"Email Id should not exceed 255 characters",valid:"Must be a valid email"},password:{required:"Password is required",maxLength:"Password should not exceed 16 characters",minLength:"Password must be at least 8 characters",valid:"Must be a valid email"},newPassword:{required:"Password is required",maxLength:"Password should not exceed 16 characters",match:"Password Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"},confirmPassword:{required:"Email Id is required",confirmMatchMessage:"Your passwords do not match."}}},5780:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return E}});var a=t(9499),s=t(29),l=t(7794),n=t.n(l),i=t(7294),o=t(1163),c=t(5496),d=t(7536),u=t(4231),m=t(7110),p=t(3443),f=t(6246),b=t(409),x=t(6521),h=t(8855),g=t(7838),y=t(391),v=t(5893),w=function(e){var r=e.setSuccess,t=(0,g.$G)().t;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"fixed left-0 top-0 z-40 w-full h-full overflow-y-auto overflow-hidden",children:(0,v.jsx)("div",{className:"max-w-lg z-50 my-7 px-5 mx-auto relative flex items-center",style:{minHeight:"calc(100% - 3.5rem)"},children:(0,v.jsxs)("div",{className:"p-7 bg-white rounded-xl h-full w-full text-center",children:[(0,v.jsx)("img",{src:"images/congratulations.svg",className:"mb-4 inline-block w-16",alt:""}),(0,v.jsxs)("h2",{className:"inline-block text-2xl mb-4 w-full font-semibold ",children:[t("Congratulations"),"!"]}),(0,v.jsx)("p",{className:"text-center",children:t("Your mobile number verification is successful with guest permission. Kindly complete the sign-up process to get exciting Fawow features")}),(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsx)("div",{className:"w-full mt-10 mb-2 text-center",children:(0,v.jsx)(y.Z,{label:t("Continue"),type:"button",onClick:function(){return r(!1)},className:"text-white px-10 h-10 leading-10 bg-blue-400 inline-block w-auto rounded-3xl hover:bg-blue-500"})})]})})}),(0,v.jsx)("div",{className:"fixed bg-current left-0 top-0 opacity-40 z-30 w-full h-full"})]})},j=function(e){var r=e.message,t=e.type,a=e.title,s=e.skipConfirm,l=e.skipCancel;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"fixed left-0 top-0 z-40 w-full h-full overflow-y-auto overflow-hidden",children:(0,v.jsx)("div",{className:"max-w-sm z-50 my-7 px-5 mx-auto relative flex items-center",style:{minHeight:"calc(100% - 3.5rem)"},children:(0,v.jsxs)("div",{className:"p-7 bg-white rounded-xl h-full w-full text-center",children:[(0,v.jsx)("img",{src:"".concat("error"===t?"/images/error-icon.png":"warning"===t?"/images/warning-icon.png":"/images/congratulations.svg"),className:"mb-4 inline-block w-11  ",alt:""}),(0,v.jsx)("h2",{className:"inline-block text-2xl mb-4 w-full font-semibold text-black",children:"error"===t?"Error":"warning"===t?null!==a&&void 0!==a?a:"Warning":"Success"}),(0,v.jsx)("p",{className:"text-center text-gray-600 text-grey",children:r}),(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsxs)("div",{className:"w-full mt-10 mb-2 text-right flex justify-between",children:[(0,v.jsx)(y.Z,{type:"button",className:"transition-all w-auto inline-block px-8 py-2 rounded-lg text-neutral-600 text-base font-semibold mr-0 mb-4 lg:my-0 mr-4 text-center",label:"Skip",onClick:function(){return s()}}),(0,v.jsx)(y.Z,{type:"button",className:"px-8 h-10 leading-10 w-auto bg-blue-400 rounded-3xl hover:bg-blue-500 inline-block text-white",label:"Cancel",onClick:function(){return l()}})]})]})})}),(0,v.jsx)("div",{className:"fixed bg-current left-0 top-0 opacity-40 z-30 w-full h-full"})]})},N=t(7812),k=function(e){var r=e.setOpen,t=e.message,a=e.type,s=e.skipConfirm;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"fixed left-0 top-0 z-40 w-full h-full overflow-y-auto overflow-hidden",children:(0,v.jsx)("div",{className:"max-w-sm z-50 my-7 px-5 mx-auto relative flex items-center",style:{minHeight:"calc(100% - 3.5rem)"},children:(0,v.jsxs)("div",{className:"p-7 bg-white rounded-xl h-full w-full text-center",children:[(0,v.jsx)("img",{src:"/images/warning-icon.png",className:"mb-4 inline-block w-11",alt:""}),(0,v.jsx)("h2",{className:"inline-block text-2xl mb-4 w-full font-semibold black",children:"Warning"}),(0,v.jsx)("p",{className:"text-center text-gray-600 ".concat("error"===a?"text-red-600":"text-green-600"),children:t}),(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsxs)("div",{className:"w-full mt-10 mb-2 text-right flex justify-between",children:[(0,v.jsx)(y.Z,{type:"button",className:"transition-all w-auto inline-block px-8 py-2 rounded-lg text-neutral-600 text-base font-semibold mr-0 mb-4 lg:my-0 mr-4 text-center",label:"Cancel",onClick:function(){return r(!1)}}),(0,v.jsx)(y.Z,{type:"button",className:"px-8 h-10 leading-10 w-auto bg-blue-400 rounded-3xl hover:bg-blue-500 inline-block text-white",label:"Back",onClick:function(){return s()}})]})]})})}),(0,v.jsx)("div",{className:"fixed bg-current left-0 top-0 opacity-40 z-30 w-full h-full"})]})},C=function(e){var r=e.setKyc,t=e.selectUploader;return(0,v.jsxs)("div",{className:"py-6 mx-auto w-full sm:w-8/12 md:w-8/12 lg:w-8/12 xl:w-6/12",children:[(0,v.jsx)("div",{className:"mb-4",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"mb-1 text-2xl ",children:"KYC Details"}),(0,v.jsx)("h2",{className:"mb-2 text-xl",children:"Upload any 1 Document"}),(0,v.jsx)("p",{className:"mb-2",children:"We will verify the documents for approval process and keep the documents safe and will not share outside of Fawow."}),(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsxs)("a",{onClick:function(){t("udyam_aadhar")},className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",children:["Udyam Aadhar",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]}),(0,v.jsxs)("a",{className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",onClick:function(){t("gst_certificate")},children:["GST Certificate",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]}),(0,v.jsxs)("a",{className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",onClick:function(){t("Current_account_cheque")},children:["Current Account Cheque",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]}),(0,v.jsxs)("a",{className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",onClick:function(){t("shop&establishment_license")},children:["Shop & Establishment License",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]}),(0,v.jsxs)("a",{className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",onClick:function(){t("trade_certificate/license")},children:["Trade Certificate / License",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]}),(0,v.jsxs)("a",{className:"relative flex w-full mb-5  border-2 border-gray-300 p-3 rounded-lg hover:bg-slate-100 cursor-pointer",onClick:function(){t("other_shop_documents")},children:["Other Shop Documents",(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]})]})]})}),(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsx)("div",{className:"w-full mt-4 text-right",children:(0,v.jsx)("button",{className:"px-8 h-10 leading-10 w-auto bg-blue-400 rounded-3xl hover:bg-blue-500 inline-block text-white",onClick:function(){return r(!1)},children:"Back"})})]})},_=function(e){var r=e.uploadImage,t=e.uploadDocument,a=e.fileArray,s=e.setFileArray,l=e.selectedDocumentType,n=e.goBack,i=a.filter((function(e){return e.documentType===l}));return(0,v.jsxs)("div",{className:"w-full block p-6 pl-0 pr-0 lg:flex lg:pl-6",children:[(0,v.jsx)("div",{className:"w-full lg:w-1/4"}),(0,v.jsxs)("div",{className:"w-full pt-5 lg:w-2/4",children:[(0,v.jsx)("h1",{className:"font-semibold text-xl pb-2",children:function(){switch(l){case"udyam_aadhar":return"Upload Udyam Aadhar";case"trade_certificate/license":return"Upload Trade Certificate/License";case"gst_certificate":return"Upload GST Certificate";case"other_shop_documents":return"Upload Other shop documents";case"shop&establishment_license":return"Upload Shop & Establishment License";case"Current_account_cheque":return"Upload Current Account Cheque"}}()}),(0,v.jsx)("h2",{className:"font-medium text-lg pb-1",children:"Certificate must clearly show"}),(0,v.jsx)("p",{className:"pb-5 text-base",children:"Upload proof that the business name is same as that in the documents uploaded."}),(0,v.jsx)("p",{className:"pb-3 pt-4 text-base",children:"Using Camera, Gallery or Files. Upload Max 2 images"}),(0,v.jsx)("div",{className:"w-full",children:(0,v.jsxs)("div",{className:"justify-center items-center w-full py-5 rounded-lg text-center border-2 border-gray-300 p-4",children:[(0,v.jsxs)("div",{className:"border border-dashed border-gray-600 p-10",children:[(0,v.jsx)("img",{style:{display:2===(null===i||void 0===i?void 0:i.length)?"none":""},src:"images/upload-icon.svg",className:"w-16 inline-block",alt:"upload-icon"}),(0,v.jsx)("div",{className:"row-outer block flex-wrap sm:flex pt-5",children:i&&(null===i||void 0===i?void 0:i.map((function(e,r){return(0,v.jsx)("div",{className:"w-full px-3 mb-5 sm:w-4/12 md:w-6/12 lg:w-4/12 xl:w-4/12",children:(0,v.jsxs)("div",{className:"w-full relative rounded-lg bg-gray-300",children:[(0,v.jsx)("a",{className:"bg-white rounded-full top-2 right-2 absolute",children:(0,v.jsx)("img",{src:"images/red-close.svg",onClick:function(){return function(e){var r=null===i||void 0===i?void 0:i.filter((function(r){return(null===r||void 0===r?void 0:r.file)!==e})),t=null===a||void 0===a?void 0:a.filter((function(e){return(null===e||void 0===e?void 0:e.documentType)!==l}));s([].concat((0,N.Z)(t),(0,N.Z)(r)))}(null===e||void 0===e?void 0:e.file)}})}),(0,v.jsx)("img",{src:null===e||void 0===e?void 0:e.file,className:"rounded-lg inline-block",alt:"image"})]})},"key-".concat(r))})))})]}),(0,v.jsx)("label",{className:"flex flex-col",htmlFor:"dropzone-file",style:{display:2===(null===i||void 0===i?void 0:i.length)?"none":""},children:(0,v.jsxs)("div",{className:"pt-5",children:[(0,v.jsx)("div",{className:"mt-5 rounded-full py-2  inline-block border border-cyan-600 w-full cursor-pointer sm:w-auto sm:mt-0 px-10 text-cyan-600",children:"Upload"}),(0,v.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:function(e){r(e.target.files,l)}})]})})]})}),(0,v.jsx)("div",{className:"w-full",children:(0,v.jsxs)("div",{className:"w-full mb-8 pt-8 text-center sm:text-right flex justify-end items-center",children:[(0,v.jsx)("a",{className:"btt-seconday cursor-pointer",onClick:function(){return n()},children:"Back"}),(0,v.jsx)("a",{className:"btt-primary ml-0 mt-5 height-56 line-height-56 rounded-lg inline-block bg-blue-500 shadow-lg shadow-blue-500/50 w-full sm:w-auto sm:ml-5 sm:mt-0 cursor-pointer",onClick:function(){return t()},children:"Submit"})]})})]}),(0,v.jsx)("div",{className:"w-full lg:w-1/4"})]})},S=function(e){var r=e.setKyc,t=e.upateKycFiles,a=e.selectedDocumentType,l=e.setSelectedDocumentType,o=e.filesSelected,c=e.setFilesSelected,d=(0,i.useState)(!1),u=d[0],m=d[1],p=(0,i.useState)(!1),f=p[0],b=p[1],x=(0,i.useState)(o),h=x[0],g=x[1],y=function(e){return new Promise((function(r,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return r(a.result)},a.onerror=function(e){return t(e)}}))},w=function(){var e=(0,s.Z)(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(h),c(h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,s.Z)(n().mark((function e(r,t){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(r[0]);case 2:a=e.sent,g([].concat((0,N.Z)(h),[{documentType:t,fileName:r[0].name,file:a,AssetCategoryName:"kyc"}]));case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[f&&(0,v.jsx)(k,{setOpen:b,message:"The changes you have done is not submitted. Do you still want to go back?",type:"warning",skipConfirm:function(){b(!1),m(!1),g([])}}),u?(0,v.jsx)(_,{uploadImage:j,uploadDocument:w,setUploadKyc:m,fileArray:h,setFileArray:g,selectedDocumentType:a,goBack:function(){(null===h||void 0===h?void 0:h.length)!==(null===o||void 0===o?void 0:o.length)?b(!0):(m(!1),g([]))}}):(0,v.jsx)(C,{setUploadKyc:m,setKyc:r,setSelectedDocumentType:l,selectUploader:function(e){m(!0),l(e),g(o)}})]})},P=t(4534),Z=t(9767);function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var K=function(e){var r,t,a,s,l,n,o,c,d,u,p,f,b,x,h=e.register,y=e.errors,w=e.submitData,j=e.skipForm,N=e.setKyc,k=e.uploadImage,C=e.profilePic,_=(e.control,(0,g.$G)().t),S=(0,m.qo)((0,Z.Z)(),{}).data,O=(0,i.useState)("select"),K=O[0],z=O[1],A=(0,i.useState)([]),T=A[0],D=A[1];(0,i.useEffect)((function(){var e,r,t=S&&(null===S||void 0===S||null===(e=S.geoLocations.find((function(e){return e.name===K})))||void 0===e?void 0:e.id),a=S&&(null===S||void 0===S||null===(r=S.geoLocations.find((function(e){return e.id===t})))||void 0===r?void 0:r.SubGeoLocation);D(a)}),[K]);var E=[{label:_("Retailer"),value:"buyer"},{label:_("Manufacturer"),value:"seller"}];return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"py-6",children:[(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsxs)("div",{className:"row-outer block flex-wrap sm:flex",children:[(0,v.jsx)("div",{className:"w-full px-3 mb-8 sm:mb-0 md:w-full lg:w-4/12",children:(0,v.jsxs)("div",{className:"block sm:flex border-2 border-gray-300 p-2 bg-gray-100 rounded-lg mb-2",children:[(0,v.jsxs)("div",{className:"relative w-20 mx-auto sm:mr-2 sm:ml-0",children:[(0,v.jsx)("div",{className:"overflow-hidden rounded-full w-14 h-14 mr-3 bg-gray-300 text-center",children:""!==(null===C||void 0===C?void 0:C.file)?(0,v.jsx)("img",{src:null===C||void 0===C?void 0:C.file,className:"inline-block profile-pic",alt:"user"}):(0,v.jsx)("img",{src:"images/upload-img-icon.svg",className:"w-8 mt-3 opacity-40 inline-block",alt:"user"})}),(0,v.jsx)("label",{className:"flex flex-col",htmlFor:"dropzone-file",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("a",{className:"p-2 absolute bottom-0 right-2 rounded-full shadow-lg primary-bg w-8 h-8 cursor-pointer",children:(0,v.jsx)("img",{src:"images/camera-white.svg",alt:"edit"})}),(0,v.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:function(e){k(e.target.files)}})]})})]}),(0,v.jsx)("div",{className:"text-gray-500 text-center pt-4",children:_("Store Photo")})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 mt-3 md:mt-3 lg:mt-7",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 \n                border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none \n                focus:ring-0 focus:border-blue-600 peer ".concat(y.fullName?"is-invalid border-b-red-400":""),placeholder:" "},h("fullName"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Full Name")}),(0,v.jsx)(P.r,{message:null===(r=y.fullName)||void 0===r?void 0:r.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 mt-2 md:mt-3 lg:mt-7",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(y.companyName?"is-invalid border-b-red-400":""),placeholder:" "},h("companyName"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Company Name")}),(0,v.jsx)(P.r,{message:null===(t=y.companyName)||void 0===t?void 0:t.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q(q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-500 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(y.mobileNumber?"is-invalid border-b-red-400":""),placeholder:" "},h("mobileNumber")),{},{disabled:!0})),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 text-gray-400",children:_("Mobile Number")})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(y.companyEmail?"is-invalid border-b-red-400":""),placeholder:" "},h("companyEmail"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Company Email")}),(0,v.jsx)(P.r,{message:null===(a=y.companyEmail)||void 0===a?void 0:a.message})]})}),(0,v.jsxs)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:[(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer pl-6 ".concat(y.establishmentYear?"is-invalid border-b-red-400":""),placeholder:" "},h("establishmentYear"))),(0,v.jsx)("label",{className:"ml-6 absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Establishment Year")}),(0,v.jsx)("a",{className:"absolute bottom-3 left-0 ",children:(0,v.jsx)("img",{src:"images/calendar-icon.svg",className:"w-4",alt:"calendar"})})]}),(0,v.jsx)(P.r,{message:null===(s=y.establishmentYear)||void 0===s?void 0:s.message})]}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsxs)("select",q(q({},h("businessType")),{},{className:'select select-bordered w-full border-0 rounded-none h-10 pl-0 min-h-0 mt-0.5 border-b-2 border-gray-300 font-normal" \n                '.concat(y.businessType?"is-invalid border-b-red-400":""),placeholder:" ",style:{fontWeight:400,color:"grey"},children:[(0,v.jsx)("option",{value:"select",disabled:!0,selected:!0,children:_("Business Type")}),E.map((function(e,r){return(0,v.jsx)("option",{value:e.value,children:e.label},"option-".concat(r))}))]})),(0,v.jsx)(P.r,{message:null===(l=y.businessType)||void 0===l?void 0:l.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(y.companyPan?"is-invalid border-b-red-400":""),placeholder:" "},h("companyPan"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Company PAN")}),(0,v.jsx)(P.r,{message:null===(n=y.companyPan)||void 0===n?void 0:n.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer".concat(y.gst?"is-invalid border-b-red-400":""),placeholder:" "},h("gst"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("GST")}),(0,v.jsx)(P.r,{message:null===(o=y.gst)||void 0===o?void 0:o.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer".concat(y.billingAddress?"is-invalid border-b-red-400":""),placeholder:" "},h("billingAddress"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Billing Address"}),(0,v.jsx)(P.r,{message:null===(c=y.billingAddress)||void 0===c?void 0:c.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsxs)("select",q(q({},h("state")),{},{className:'select select-bordered w-full border-0 rounded-none h-10 pl-0 min-h-0 mt-0.5 border-b-2 border-gray-300 font-normal" \n                '.concat(y.state?"is-invalid border-b-red-400":""),placeholder:" ",style:{fontWeight:400,color:"grey"},onChange:function(e){z(e.target.value)},children:[(0,v.jsx)("option",{value:"select",disabled:!0,selected:!0,children:"State"}),S&&(null===(d=S.geoLocations)||void 0===d?void 0:d.map((function(e,r){return(0,v.jsx)("option",{value:e.name,children:e.name},"statesList-".concat(r))})))]})),(0,v.jsx)(P.r,{message:null===(u=y.state)||void 0===u?void 0:u.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsxs)("select",q(q({},h("district")),{},{className:'select select-bordered w-full border-0 rounded-none h-10 pl-0 min-h-0 mt-0.5 border-b-2 border-gray-300 font-normal" \n                '.concat(y.district?"is-invalid border-b-red-400":""),placeholder:" ",style:{fontWeight:400,color:"grey"},children:[(0,v.jsx)("option",{value:"select",disabled:!0,selected:!0,children:"District"}),T&&(null===T||void 0===T?void 0:T.map((function(e,r){return(0,v.jsx)("option",{value:e.id,children:e.name},"distrct-".concat(r))})))]})),(0,v.jsx)(P.r,{message:null===(p=y.district)||void 0===p?void 0:p.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer".concat(y.city?"is-invalid border-b-red-400":""),placeholder:" "},h("city"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"City"}),(0,v.jsx)(P.r,{message:null===(f=y.city)||void 0===f?void 0:f.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer".concat(y.pincode?"is-invalid border-b-red-400":""),placeholder:" "},h("pincode"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Pincode"}),(0,v.jsx)(P.r,{message:null===(b=y.pincode)||void 0===b?void 0:b.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsxs)("div",{className:"relative z-0 ",children:[(0,v.jsx)("input",q({type:"text",id:"floating_standard",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(y.description?"is-invalid border-b-red-400":""),placeholder:" "},h("description"))),(0,v.jsx)("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:_("Company Description")}),(0,v.jsx)(P.r,{message:null===(x=y.description)||void 0===x?void 0:x.message})]})}),(0,v.jsx)("div",{className:"w-full px-3 mb-6 md:w-6/12 lg:w-4/12",children:(0,v.jsx)("a",{onClick:function(){return N(!0)},children:(0,v.jsxs)("div",{className:"flex border-2 border-gray-200 p-2 rounded-lg",children:[(0,v.jsx)("img",{src:"images/kyc-icon.svg",className:"w-5 mt-1 mr-2",alt:"Tick"}),_("KYC Detail"),(0,v.jsx)("div",{className:"flex ml-auto",children:(0,v.jsx)("img",{src:"images/right-arrow.svg",className:"w-2 mt-1 mr-2",alt:"icon"})})]})})})]}),(0,v.jsx)("div",{className:"clear-both"}),(0,v.jsxs)("div",{className:"w-full mt-4 text-right",children:[(0,v.jsx)("button",{className:"px-8 h-10 leading-10 w-auto bg-gray-200 rounded-3xl mr-3 hover:bg-gray-300 inline-block",onClick:function(){return j()},children:_("Skip")}),(0,v.jsx)("button",{className:"px-8 h-10 leading-10 w-auto bg-blue-400 rounded-3xl hover:bg-blue-500 inline-block text-white",onClick:function(){return w()},children:_("Update")})]})]})})};function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var T=u.Ry().shape({fullName:u.Z_().required(b.K.fullName),companyName:u.Z_().required(b.K.companyName),companyEmail:u.Z_().email(b.K.emailValidation).required(b.K.companyEmail),establishmentYear:u.Z_().required(b.K.establishmentYear).matches(/^[0-9]+$/,b.K.onlyNumbers).max(4,b.K.yearMaximum).min(4,b.K.yearMaximum),businessType:u.Z_().required(b.K.businessType).test("","Business Type is required",(function(e){return"select"!==e})),companyPan:u.Z_().required("Company Pan is required").matches(/[A-Z]{5}[0-9]{4}[A-Z]{1}/,b.K.panNo),gst:u.Z_().required(b.K.gst).matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,b.K.alphaNumerics),billingAddress:u.Z_().required(b.K.address),state:u.Z_().required(b.K.state).test("",b.K.state,(function(e){return"select"!==e})),district:u.Z_().required(b.K.district).test("",b.K.state,(function(e){return"select"!==e})),city:u.Z_().required(b.K.city),pincode:u.Z_().required(b.K.pincode).min(6,b.K.pincodeValidation).max(6,b.K.pincodeValidation).matches(/^(\d{4}|\d{6})$/,b.K.pincodeValidation),description:u.Z_().required(b.K.description)}),D=function(){var e=(0,o.useRouter)(),r=(0,i.useState)(!1),t=r[0],a=r[1],l=(0,i.useState)({}),u=l[0],b=l[1],g=(0,x.C)(h.bD),y=(0,i.useState)(!0),N=y[0],k=y[1],C=(0,i.useState)(!1),_=C[0],P=C[1],Z=(0,i.useState)(!1),O=Z[0],q=Z[1],z=(0,i.useState)(""),D=z[0],E=z[1],U=(0,i.useState)(""),M=U[0],F=U[1],L=(0,i.useState)(!1),Y=L[0],I=L[1],B=(0,i.useState)([]),G=B[0],R=B[1],V=(0,i.useState)(""),H=V[0],W=V[1],$=(0,i.useState)({fileName:"",file:"",AssetCategoryName:""}),X=$[0],Q=$[1],J=(0,x.T)(),ee={defaultValues:{fullName:"",companyName:"",mobileNumber:g.replace(/\s+/g,""),companyEmail:"",establishmentYear:"",businessType:"select",companyPan:"",gst:"",billingAddress:"",state:"select",district:"select",city:"",pincode:"",description:""},resolver:(0,c.X)(T)},re=(0,d.cI)(ee),te=re.register,ae=re.handleSubmit,se=re.formState.errors,le=re.getValues,ne=re.control,ie=(0,m.tb)((0,f.Z)()),oe=(0,m.n9)((0,f.Z)()),ce=function(){var r=(0,s.Z)(n().mark((function r(t){var s,l,i,o,c,d,u,m,p,f,x,g,y,v,w,j,N,k;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.fullName,l=t.companyName,i=t.mobileNumber,o=t.companyEmail,c=t.establishmentYear,d=t.businessType,u=t.companyPan,m=t.gst,p=t.billingAddress,f=t.state,x=t.district,g=t.city,y=t.pincode,v=t.description,w={attributes:[{name:"phone",value:i},{name:"email",value:o},{name:"established_year",value:c},{name:"pan",value:u},{name:"gst",value:m},{name:"billing_address",value:p},{name:"state",value:f},{name:"district",value:x},{name:"city",value:g},{name:"pincode",value:y},{name:"description",value:v}],name:l,buisnessType:d,userName:s},X.file&&(w=A(A({},w),{},{assetFile:[X]})),j=G.map((function(e){return delete e.documentType,e})),N={data:w},k={data:{kycHeaderName:"udyam_aadhar",assetFile:j}},r.next=8,ie.mutateAsync(N).then((function(r){J((0,h.DZ)(null===r||void 0===r?void 0:r.enrollUser.id)),null!==r&&void 0!==r&&r.enrollUser?e.push("/user-enroll/categories"):(a(!0),b(null===r||void 0===r?void 0:r.enrollUser))})).catch((function(e){a(!0),b(e.response)}));case 8:if(0===G.length){r.next=11;break}return r.next=11,oe.mutateAsync(k).then((function(r){e.push("/user-enroll/categories")})).catch((function(e){console.log("errorrr",e)}));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),de=ae(function(){var e=(0,s.Z)(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===G.length?(E("You will be able to checkout the products only once you complete the KYC. Do you want to complete the KYC now? However you can update the KYC later from KYC Details"),F("Update KYC"),P(!0)):ce(r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),ue=function(e){return new Promise((function(r,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return r(a.result)},a.onerror=function(e){return t(e)}}))},me=function(){var e=(0,s.Z)(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(r[0]);case 2:t=e.sent,Q({fileName:r[0].name,file:t,AssetCategoryName:"company_image"});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:O?(0,v.jsx)(S,{setKyc:q,upateKycFiles:function(e){R(e),q(!1)},selectedDocumentType:H,setSelectedDocumentType:W,filesSelected:G,setFilesSelected:R}):(0,v.jsxs)(v.Fragment,{children:[N&&(0,v.jsx)(w,{setSuccess:k}),t&&(0,v.jsx)(p.q,{error:u,setErrorOpen:a}),(0,v.jsx)(K,{register:te,errors:se,submitData:de,skipForm:function(){I(!0),E("By skipping you cannot view the price or checkout the products. However you can anytime come back and complete it from your profile page. Do you still want to Skip?"),F("Don't forget to update"),P(!0)},setKyc:q,uploadImage:me,profilePic:X,control:ne}),_&&(0,v.jsx)(j,{message:D,title:M,type:"warning",skipConfirm:function(){P(!1);var r=le();Y?e.push("/user-enroll/categories"):ce(r)},skipCancel:function(){P(!1),I(!1)}})]})})},E=function(){return(0,v.jsx)(D,{})}},3242:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-enroll",function(){return t(5780)}])},2587:function(e,r,t){"use strict";function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}t.d(r,{Z:function(){return a}})},7812:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var a=t(2587);var s=t(2937);function l(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,s.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(2587);function s(e,r){if(e){if("string"===typeof e)return(0,a.Z)(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,a.Z)(e,r):void 0}}}},function(e){e.O(0,[982,809,75,774,888,179],(function(){return r=3242,e(e.s=r);var r}));var r=e.O();_N_E=r}]);